{"version":3,"names":["Object","defineProperty","exports","value","_Definition","_interopRequireDefault","require","_PassConfig","_Compiler","_CompilerPass","_InstanceManager","_DefinitionNotFoundException","_LoadMethodNotFoundException","_LoggerWarnMethodNotFoundException","_WrongDefinitionException","_FrozenContainerException","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_i","_arr","_n","_d","_s","_e","call","next","done","push","length","err","Array","isArray","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","e","_e2","f","normalCompletion","didErr","step","_e3","minLen","_arrayLikeToArray","toString","slice","name","from","test","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","ContainerBuilder","containerReferenceAsService","arguments","undefined","defaultDir","_definitions","Map","_parameters","_alias","_container","_frozen","_compilerPass","_extensions","_logger","console","_instanceManager","_containerReferenceAsService","_defaultDir","get","set","warn","register","id","object","args","frozen","definition","synthetic","setDefinition","instanceManager","getInstance","compile","run","addCompilerPass","compilerPass","type","TYPE_BEFORE_OPTIMIZATION","priority","setAlias","alias","findTaggedServiceIds","taggedServices","_iterator","_step","_step$value","tags","some","tag","setParameter","getParameter","hasParameter","has","hasDefinition","_definition","method","getDefinition","removeDefinition","findDefinition","registerExtension","extension","load","remove","isSet","_default"],"sources":["ContainerBuilder.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _Definition = _interopRequireDefault(require(\"./Definition\"));\n\nvar _PassConfig = _interopRequireDefault(require(\"./PassConfig\"));\n\nvar _Compiler = _interopRequireDefault(require(\"./Compiler\"));\n\nvar _CompilerPass = _interopRequireDefault(require(\"./CompilerPass\"));\n\nvar _InstanceManager = _interopRequireDefault(require(\"./InstanceManager\"));\n\nvar _DefinitionNotFoundException = _interopRequireDefault(require(\"./Exception/DefinitionNotFoundException\"));\n\nvar _LoadMethodNotFoundException = _interopRequireDefault(require(\"./Exception/LoadMethodNotFoundException\"));\n\nvar _LoggerWarnMethodNotFoundException = _interopRequireDefault(require(\"./Exception/LoggerWarnMethodNotFoundException\"));\n\nvar _WrongDefinitionException = _interopRequireDefault(require(\"./Exception/WrongDefinitionException\"));\n\nvar _FrozenContainerException = _interopRequireDefault(require(\"./Exception/FrozenContainerException\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ContainerBuilder = /*#__PURE__*/function () {\n  /**\n   * @param {boolean} containerReferenceAsService\n   * @param {String} defaultDir\n   */\n  function ContainerBuilder() {\n    var containerReferenceAsService = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var defaultDir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, ContainerBuilder);\n\n    this._definitions = new Map();\n    this._parameters = new Map();\n    this._alias = new Map();\n    this._container = new Map();\n    this._frozen = false;\n    this._compilerPass = new _CompilerPass[\"default\"](this);\n    this._extensions = [];\n    this._logger = console;\n    this._instanceManager = undefined;\n    this._containerReferenceAsService = containerReferenceAsService;\n    this._defaultDir = defaultDir;\n  }\n  /**\n   * @returns {String}\n   */\n\n\n  _createClass(ContainerBuilder, [{\n    key: \"defaultDir\",\n    get: function get() {\n      return this._defaultDir;\n    }\n    /**\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"containerReferenceAsService\",\n    get: function get() {\n      return this._containerReferenceAsService;\n    }\n    /**\n     * @returns {Map}\n     */\n\n  }, {\n    key: \"definitions\",\n    get: function get() {\n      return this._definitions;\n    }\n    /**\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"frozen\",\n    get: function get() {\n      return this._frozen;\n    }\n    /**\n     * @param {boolean} value\n     */\n    ,\n    set: function set(value) {\n      this._frozen = value;\n    }\n    /**\n     * @return {InstanceManager}\n     */\n\n  }, {\n    key: \"instanceManager\",\n    get: function get() {\n      if (!this._instanceManager) {\n        this._instanceManager = new _InstanceManager[\"default\"](this, this._definitions, this._alias);\n      }\n\n      return this._instanceManager;\n    }\n    /**\n     * @returns {Array}\n     */\n\n  }, {\n    key: \"extensions\",\n    get: function get() {\n      return this._extensions;\n    }\n    /**\n     * @returns {Console|*}\n     */\n\n  }, {\n    key: \"logger\",\n    get: function get() {\n      return this._logger;\n    }\n    /**\n     * @param {Console|*} value\n     */\n    ,\n    set: function set(value) {\n      if (typeof value.warn !== 'function') {\n        throw new _LoggerWarnMethodNotFoundException[\"default\"]();\n      }\n\n      this._logger = value;\n    }\n    /**\n     * @return {Map}\n     */\n\n  }, {\n    key: \"services\",\n    get: function get() {\n      return this._container;\n    }\n    /**\n     * @param {string} id\n     * @param {*|null} object\n     * @param {Array} args\n     * @returns {Definition}\n     */\n\n  }, {\n    key: \"register\",\n    value: function register(id) {\n      var object = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      if (!this.frozen) {\n        var definition = new _Definition[\"default\"]();\n        definition.Object = object;\n        definition.args = args;\n\n        if (!object) {\n          definition.synthetic = true;\n        }\n\n        return this.setDefinition(id, definition);\n      }\n\n      throw new _FrozenContainerException[\"default\"]();\n    }\n    /**\n     * @param {string} id\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      return this.instanceManager.getInstance(id);\n    }\n  }, {\n    key: \"compile\",\n    value: function compile() {\n      new _Compiler[\"default\"](this).run();\n    }\n    /**\n     * @param {*} compilerPass\n     * @param {string} type\n     * @param {number} priority\n     */\n\n  }, {\n    key: \"addCompilerPass\",\n    value: function addCompilerPass(compilerPass) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _PassConfig[\"default\"].TYPE_BEFORE_OPTIMIZATION;\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      this._compilerPass.register(compilerPass, type, priority);\n    }\n    /**\n     * @param {string} alias\n     * @param {string} id\n     */\n\n  }, {\n    key: \"setAlias\",\n    value: function setAlias(alias, id) {\n      this._alias.set(alias, id);\n    }\n    /**\n     * @param {string} id\n     * @param {Definition} definition\n     * @returns {Definition}\n     */\n\n  }, {\n    key: \"setDefinition\",\n    value: function setDefinition(id, definition) {\n      if (definition instanceof _Definition[\"default\"]) {\n        this._definitions.set(id, definition);\n\n        return definition;\n      }\n\n      throw new _WrongDefinitionException[\"default\"]();\n    }\n    /**\n     * @param {string} name\n     * @returns {Map}\n     */\n\n  }, {\n    key: \"findTaggedServiceIds\",\n    value: function findTaggedServiceIds(name) {\n      var taggedServices = new Map();\n\n      var _iterator = _createForOfIteratorHelper(this._definitions),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              id = _step$value[0],\n              definition = _step$value[1];\n\n          if (definition.tags.some(function (tag) {\n            return tag.name === name;\n          })) {\n            taggedServices.set(id, definition);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return taggedServices;\n    }\n    /**\n     * @param {string} key\n     * @param {string||Array|boolean|Object} value\n     */\n\n  }, {\n    key: \"setParameter\",\n    value: function setParameter(key, value) {\n      if (typeof value !== 'string' && !Array.isArray(value) && typeof value !== 'boolean' && _typeof(value) !== 'object') {\n        throw new TypeError('The expected value is not a flat string, an array, a boolean or an object');\n      }\n\n      this._parameters.set(key, value);\n    }\n    /**\n     * @param {string} key\n     * @returns {string|Array}\n     */\n\n  }, {\n    key: \"getParameter\",\n    value: function getParameter(key) {\n      return this._parameters.get(key);\n    }\n    /**\n     * @param {string} key\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"hasParameter\",\n    value: function hasParameter(key) {\n      return this._parameters.has(key);\n    }\n    /**\n     * @param {string} key\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"hasDefinition\",\n    value: function hasDefinition(key) {\n      return this._definitions.has(key);\n    }\n    /**\n     * @param {string} key\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this._definitions.has(key) || this._parameters.has(key) || this._alias.has(key);\n    }\n    /**\n     * @param {string} method\n     * @param {string} key\n     * @returns {Definition|boolean}\n     * @private\n     */\n\n  }, {\n    key: \"_definition\",\n    value: function _definition(method, key) {\n      if (this._definitions.has(key)) {\n        return this._definitions[method](key);\n      }\n\n      throw new _DefinitionNotFoundException[\"default\"](key);\n    }\n    /**\n     * @param {string} key\n     * @returns {Definition}\n     */\n\n  }, {\n    key: \"getDefinition\",\n    value: function getDefinition(key) {\n      return this._definition('get', key);\n    }\n    /**\n     * @param {string} key\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"removeDefinition\",\n    value: function removeDefinition(key) {\n      return this._definition('delete', key);\n    }\n    /**\n     * @param {string} key\n     * @returns {Definition}\n     */\n\n  }, {\n    key: \"findDefinition\",\n    value: function findDefinition(key) {\n      key = this._alias.get(key) || key;\n\n      if (this._definitions.has(key)) {\n        return this._definitions.get(key);\n      }\n\n      throw new _DefinitionNotFoundException[\"default\"](key);\n    }\n    /**\n     * @param {*} extension\n     */\n\n  }, {\n    key: \"registerExtension\",\n    value: function registerExtension(extension) {\n      if (typeof extension.load !== 'function') {\n        throw new _LoadMethodNotFoundException[\"default\"](extension.constructor.name);\n      }\n\n      this._extensions.push(extension);\n    }\n    /**\n     * @param {string} id\n     * @param {*} instance\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(id, instance) {\n      this._container.set(id, instance);\n    }\n    /**\n     * @param {string} id\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(id) {\n      this._container[\"delete\"](id);\n    }\n    /**\n     * @param {string} id\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isSet\",\n    value: function isSet(id) {\n      return this._container.has(id);\n    }\n  }]);\n\n  return ContainerBuilder;\n}();\n\nvar _default = ContainerBuilder;\nexports[\"default\"] = _default;"],"mappings":"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"}