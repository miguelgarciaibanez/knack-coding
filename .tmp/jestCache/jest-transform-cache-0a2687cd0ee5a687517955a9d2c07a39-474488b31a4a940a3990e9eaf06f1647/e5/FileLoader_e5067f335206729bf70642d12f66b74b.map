{"version":3,"names":["Object","defineProperty","exports","value","_path","_interopRequireDefault","require","_Reference","_PackageReference","_TagReference","_Definition","_validateNpmPackageName","obj","__esModule","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","minLen","_arrayLikeToArray","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","FileLoader","container","_container","get","_filePath","set","_checkFile","file","filePath","_parseDefinitions","services","arguments","undefined","id","_parseDefinition","service","setAlias","factory","setDefinition","_getFactoryDefinition","_getDefinition","object","includes","_requireClassNameFromPath","definition","shared","setFactory","method","args","_getParsedArguments","synthetic","main","lazy","parent","decoratedService","decorates","decorationPriority","decoration_priority","deprecated","_parseArguments","_parseProperties","properties","_parseCalls","calls","_parseTags","tags","_this","forEach","addMethodCall","tag","addTag","_parseTagAttributes","attributes","_this2","parsedArguments","argument","push","_parseArgument","propertyKey","addProperty","_parseImports","imports","_iterator","_step","workingPath","load","join","dirname","resource","_parseParameters","parameters","setParameter","_getArgumentParameter","process","env","getParameter","classObject","mainClassName","fromDirectory","isAbsolute","defaultDir","exportedModule","error","code","mainClass","defaultClass","fileNameClass","basename","map","Map","_i","_Object$keys","keys","_default"],"sources":["FileLoader.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _Reference = _interopRequireDefault(require(\"./../Reference\"));\n\nvar _PackageReference = _interopRequireDefault(require(\"./../PackageReference\"));\n\nvar _TagReference = _interopRequireDefault(require(\"./../TagReference\"));\n\nvar _Definition = _interopRequireDefault(require(\"./../Definition\"));\n\nvar _validateNpmPackageName = _interopRequireDefault(require(\"validate-npm-package-name\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar FileLoader = /*#__PURE__*/function () {\n  /**\n   * @param {ContainerBuilder} container\n   */\n  function FileLoader(container) {\n    _classCallCheck(this, FileLoader);\n\n    this._container = container;\n  }\n  /**\n   * @returns {ContainerBuilder}\n   */\n\n\n  _createClass(FileLoader, [{\n    key: \"container\",\n    get: function get() {\n      return this._container;\n    }\n    /**\n     * @returns {string}\n     */\n\n  }, {\n    key: \"filePath\",\n    get: function get() {\n      return this._filePath;\n    }\n    /**\n     * @param {string} value\n     */\n    ,\n    set: function set(value) {\n      this._filePath = value;\n    }\n    /**\n     * @param {*} attributes\n     * @returns Map\n     * @private\n     */\n\n  }, {\n    key: \"_checkFile\",\n    value:\n    /**\n     * @param {string} file\n     * @protected\n     */\n    function _checkFile(file) {\n      this.filePath = file;\n    }\n    /**\n     * @param {Array<*>} services\n     *\n     * @protected\n     */\n\n  }, {\n    key: \"_parseDefinitions\",\n    value: function _parseDefinitions() {\n      var services = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      for (var id in services) {\n        this._parseDefinition(services, id);\n      }\n    }\n    /**\n     * @param {*} services\n     * @param {string} id\n     * @private\n     */\n\n  }, {\n    key: \"_parseDefinition\",\n    value: function _parseDefinition(services, id) {\n      var service = services[id];\n\n      if (typeof service === 'string') {\n        this.container.setAlias(id, service.slice(1));\n      } else if (service.factory) {\n        this.container.setDefinition(id, this._getFactoryDefinition(service));\n      } else {\n        this.container.setDefinition(id, this._getDefinition(service));\n      }\n    }\n    /**\n     * @param {*} service\n     * @returns {Definition}\n     * @private\n     */\n\n  }, {\n    key: \"_getFactoryDefinition\",\n    value: function _getFactoryDefinition(service) {\n      var object = null;\n\n      if (service.factory[\"class\"].includes('@', 0)) {\n        object = new _Reference[\"default\"](service.factory[\"class\"].slice(1));\n      } else {\n        object = this._requireClassNameFromPath(service.factory[\"class\"]);\n      }\n\n      var definition = new _Definition[\"default\"]();\n      definition.shared = service.shared;\n      definition.setFactory(object, service.factory.method);\n      definition.args = this._getParsedArguments(service.arguments);\n      return definition;\n    }\n    /**\n     * @param {*} service\n     * @returns {Definition}\n     * @private\n     */\n\n  }, {\n    key: \"_getDefinition\",\n    value: function _getDefinition(service) {\n      var definition;\n\n      if (!service.synthetic) {\n        var object = this._requireClassNameFromPath(service[\"class\"], service.main);\n\n        definition = new _Definition[\"default\"](object);\n        definition.lazy = service.lazy || false;\n        definition[\"public\"] = service[\"public\"] !== false;\n        definition[\"abstract\"] = service[\"abstract\"] || false;\n        definition.parent = service.parent;\n        definition.decoratedService = service.decorates;\n        definition.decorationPriority = service.decoration_priority;\n        definition.deprecated = service.deprecated;\n        definition.shared = service.shared;\n\n        this._parseArguments(definition, service.arguments);\n\n        this._parseProperties(definition, service.properties);\n\n        this._parseCalls(definition, service.calls);\n\n        this._parseTags(definition, service.tags);\n      } else {\n        definition = new _Definition[\"default\"]();\n        definition.synthetic = true;\n      }\n\n      return definition;\n    }\n    /**\n     * @param {Definition} definition\n     * @param {Array} calls\n     * @private\n     */\n\n  }, {\n    key: \"_parseCalls\",\n    value: function _parseCalls(definition) {\n      var _this = this;\n\n      var calls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      calls.forEach(function (call) {\n        definition.addMethodCall(call.method, _this._getParsedArguments(call.arguments));\n      });\n    }\n    /**\n     * @param {Definition} definition\n     * @param {Array} tags\n     * @private\n     */\n\n  }, {\n    key: \"_parseTags\",\n    value: function _parseTags(definition) {\n      var tags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      tags.forEach(function (tag) {\n        definition.addTag(tag.name, FileLoader._parseTagAttributes(tag.attributes));\n      });\n    }\n    /**\n     * @param {Array} args\n     * @returns {Array}\n     * @private\n     */\n\n  }, {\n    key: \"_getParsedArguments\",\n    value: function _getParsedArguments() {\n      var _this2 = this;\n\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var parsedArguments = [];\n      args.forEach(function (argument) {\n        parsedArguments.push(_this2._parseArgument(argument));\n      });\n      return parsedArguments;\n    }\n    /**\n     * @param {Definition} definition\n     * @param {Object} properties\n     * @private\n     */\n\n  }, {\n    key: \"_parseProperties\",\n    value: function _parseProperties(definition) {\n      var properties = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      for (var propertyKey in properties) {\n        definition.addProperty(propertyKey, this._parseArgument(properties[propertyKey]));\n      }\n    }\n    /**\n     * @param {Array<{resource}>} imports\n     *\n     * @protected\n     */\n\n  }, {\n    key: \"_parseImports\",\n    value: function _parseImports() {\n      var imports = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var _iterator = _createForOfIteratorHelper(imports),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var file = _step.value;\n          var workingPath = this.filePath;\n          this.load(_path[\"default\"].join(_path[\"default\"].dirname(this.filePath), file.resource));\n          this.filePath = workingPath;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    /**\n     * @param {*} parameters\n     *\n     * @protected\n     */\n\n  }, {\n    key: \"_parseParameters\",\n    value: function _parseParameters() {\n      var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      for (var key in parameters) {\n        this._container.setParameter(key, parameters[key]);\n      }\n    }\n    /**\n     * @param {Definition} definition\n     * @param {Array} args\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_parseArguments\",\n    value: function _parseArguments(definition) {\n      var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var argument = definition[\"abstract\"] ? 'appendArgs' : 'args';\n      definition[argument] = this._getParsedArguments(args);\n    }\n    /**\n     * @param {string} argument\n     * @returns {*}\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_parseArgument\",\n    value: function _parseArgument(argument) {\n      if (typeof argument === 'boolean') {\n        return argument;\n      }\n\n      if (argument.slice(0, 2) === '@?') {\n        return new _Reference[\"default\"](argument.slice(2), true);\n      } else if (argument.slice(0, 1) === '@') {\n        return new _Reference[\"default\"](argument.slice(1));\n      } else if (argument.slice(0, 1) === '%' && argument.slice(-1) === '%') {\n        return this._getArgumentParameter(argument);\n      } else if (argument.slice(0, 1) === '%') {\n        return new _PackageReference[\"default\"](argument.slice(1));\n      } else if (argument.slice(0, 7) === '!tagged') {\n        return new _TagReference[\"default\"](argument.slice(8));\n      }\n\n      return argument;\n    }\n    /**\n     * @param {string} argument\n     * @returns {*}\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_getArgumentParameter\",\n    value: function _getArgumentParameter(argument) {\n      if (argument.slice(1, 4) === 'env') {\n        return process.env[argument.slice(5, -2)];\n      } else {\n        return this._container.getParameter(argument.slice(1, -1));\n      }\n    }\n    /**\n     * @param {string} classObject\n     * @param {string} mainClassName\n     * @returns {*}\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_requireClassNameFromPath\",\n    value: function _requireClassNameFromPath(classObject, mainClassName) {\n      var fromDirectory = !_path[\"default\"].isAbsolute(classObject) ? _path[\"default\"].dirname(this.filePath) : '/';\n      fromDirectory = this.container.defaultDir || fromDirectory;\n      var exportedModule = null;\n\n      try {\n        exportedModule = require(_path[\"default\"].join(fromDirectory, classObject));\n      } catch (error) {\n        // If the path is a valid npm package name,\n        // try to import a global package.\n        if (error.code === 'MODULE_NOT_FOUND' && (0, _validateNpmPackageName[\"default\"])(classObject)) {\n          exportedModule = require(classObject);\n        } else {\n          throw error;\n        }\n      }\n\n      var mainClass = exportedModule[mainClassName];\n      var defaultClass = exportedModule[\"default\"];\n\n      var fileNameClass = exportedModule[_path[\"default\"].basename(classObject)];\n\n      return mainClass || defaultClass || fileNameClass || exportedModule;\n    }\n  }], [{\n    key: \"_parseTagAttributes\",\n    value: function _parseTagAttributes(attributes) {\n      var map = new Map();\n\n      if (attributes) {\n        for (var _i = 0, _Object$keys = Object.keys(attributes); _i < _Object$keys.length; _i++) {\n          var key = _Object$keys[_i];\n          map.set(key, attributes[key]);\n        }\n      }\n\n      return map;\n    }\n  }]);\n\n  return FileLoader;\n}();\n\nvar _default = FileLoader;\nexports[\"default\"] = _default;"],"mappings":"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"}